<Window x:Class="OCRANGISE.GUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="OCRANGISE - OCR File Organizer"
        Height="700" Width="1200"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">

	<Window.Resources>
		<!-- Modern Button Style -->
		<Style x:Key="ModernButton" TargetType="Button">
			<Setter Property="Background" Value="#4CAF50"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Padding" Value="15,8"/>
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border Background="{TemplateBinding Background}"
                                CornerRadius="5"
                                Padding="{TemplateBinding Padding}">
							<ContentPresenter HorizontalAlignment="Center"
                                            VerticalAlignment="Center"/>
						</Border>
						<ControlTemplate.Triggers>
							<Trigger Property="IsMouseOver" Value="True">
								<Setter Property="Background" Value="#45a049"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>

		<!-- Card Style -->
		<Style x:Key="Card" TargetType="Border">
			<Setter Property="Background" Value="White"/>
			<Setter Property="CornerRadius" Value="8"/>
			<Setter Property="Padding" Value="20"/>
			<Setter Property="Margin" Value="10"/>
			<Setter Property="Effect">
				<Setter.Value>
					<DropShadowEffect Color="Gray" Direction="270" ShadowDepth="2" Opacity="0.3"/>
				</Setter.Value>
			</Setter>
		</Style>
	</Window.Resources>

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="60"/>
			<RowDefinition Height="*"/>
			<RowDefinition Height="30"/>
		</Grid.RowDefinitions>

		<!-- Header -->
		<Border Grid.Row="0" Background="#2196F3" Padding="20,0">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="Auto"/>
				</Grid.ColumnDefinitions>

				<StackPanel Orientation="Horizontal" VerticalAlignment="Center">
					<TextBlock Text="📄" FontSize="24" Margin="0,0,10,0"/>
					<TextBlock Text="OCRANGISE" FontSize="20" FontWeight="Bold"
                             Foreground="White" VerticalAlignment="Center"/>
					<TextBlock Text="OCR File Organizer" FontSize="12"
                             Foreground="#E3F2FD" Margin="10,0,0,0" VerticalAlignment="Center"/>
				</StackPanel>

				<StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
					<TextBlock x:Name="StatusText" Text="Ready" Foreground="White"
                             FontSize="14" Margin="0,0,20,0" VerticalAlignment="Center"/>
					<Ellipse x:Name="StatusIndicator" Width="12" Height="12" Fill="#4CAF50"/>
				</StackPanel>
			</Grid>
		</Border>

		<!-- Main Content -->
		<TabControl Grid.Row="1" Margin="10" Background="Transparent" BorderThickness="0">

			<!-- Dashboard Tab -->
			<TabItem Header="📊 Dashboard" FontSize="14">
				<Grid Margin="10">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="2*"/>
						<ColumnDefinition Width="*"/>
					</Grid.ColumnDefinitions>

					<!-- Left Panel - Monitoring -->
					<Border Grid.Column="0" Style="{StaticResource Card}">
						<StackPanel>
							<TextBlock Text="📁 Folder Monitoring" FontSize="18" FontWeight="Bold"
                                     Margin="0,0,0,20" Foreground="#333"/>

							<!-- Folder List -->
							<TextBlock Text="Monitored Folders:" FontWeight="Medium" Margin="0,0,0,10"/>
							<ListBox x:Name="FolderListBox" Height="150" Margin="0,0,0,15"
                                   Background="#F9F9F9" BorderBrush="#DDD">
								<ListBox.ItemTemplate>
									<DataTemplate>
										<StackPanel Orientation="Horizontal" Margin="5">
											<TextBlock Text="📂" Margin="0,0,10,0"/>
											<TextBlock Text="{Binding}" VerticalAlignment="Center"/>
										</StackPanel>
									</DataTemplate>
								</ListBox.ItemTemplate>
							</ListBox>

							<!-- Folder Controls -->
							<StackPanel Orientation="Horizontal" Margin="0,0,0,20">
								<Button x:Name="AddFolderBtn" Content="➕ Add Folder"
                                      Style="{StaticResource ModernButton}"
                                      Click="AddFolderBtn_Click" Margin="0,0,10,0"/>
								<Button x:Name="RemoveFolderBtn" Content="➖ Remove"
                                      Background="#f44336" Style="{StaticResource ModernButton}"
                                      Click="RemoveFolderBtn_Click"/>
							</StackPanel>

							<!-- Monitoring Controls -->
							<StackPanel Orientation="Horizontal">
								<Button x:Name="StartBtn" Content="▶️ Start Monitoring"
                                      Style="{StaticResource ModernButton}"
                                      Click="StartBtn_Click" Margin="0,0,10,0"/>
								<Button x:Name="StopBtn" Content="⏹️ Stop"
                                      Background="#FF9800" Style="{StaticResource ModernButton}"
                                      Click="StopBtn_Click" IsEnabled="False"/>
							</StackPanel>
						</StackPanel>
					</Border>

					<!-- Right Panel - Statistics -->
					<Border Grid.Column="1" Style="{StaticResource Card}">
						<StackPanel>
							<TextBlock Text="📈 Statistics" FontSize="18" FontWeight="Bold"
                                     Margin="0,0,0,20" Foreground="#333"/>

							<!-- Stats Cards -->
							<Border Background="#E8F5E8" CornerRadius="5" Padding="15" Margin="0,0,0,10">
								<StackPanel>
									<TextBlock Text="✅ Processed Files" FontWeight="Medium" Foreground="#2E7D32"/>
									<TextBlock x:Name="ProcessedCountText" Text="0" FontSize="24"
                                             FontWeight="Bold" Foreground="#2E7D32"/>
								</StackPanel>
							</Border>

							<Border Background="#FFEBEE" CornerRadius="5" Padding="15" Margin="0,0,0,10">
								<StackPanel>
									<TextBlock Text="❌ Failed Files" FontWeight="Medium" Foreground="#C62828"/>
									<TextBlock x:Name="FailedCountText" Text="0" FontSize="24"
                                             FontWeight="Bold" Foreground="#C62828"/>
								</StackPanel>
							</Border>

							<Border Background="#E3F2FD" CornerRadius="5" Padding="15" Margin="0,0,0,20">
								<StackPanel>
									<TextBlock Text="📋 Active Rules" FontWeight="Medium" Foreground="#1565C0"/>
									<TextBlock x:Name="RulesCountText" Text="1" FontSize="24"
                                             FontWeight="Bold" Foreground="#1565C0"/>
								</StackPanel>
							</Border>

							<!-- Quick Actions -->
							<TextBlock Text="Quick Actions:" FontWeight="Medium" Margin="0,0,0,10"/>
							<Button Content="📄 Test File" Style="{StaticResource ModernButton}"
                                  Background="#9C27B0" Click="TestFileBtn_Click" Margin="0,0,0,5"/>
							<Button Content="📊 View Logs" Style="{StaticResource ModernButton}"
                                  Background="#607D8B" Click="ViewLogsBtn_Click"/>
						</StackPanel>
					</Border>
				</Grid>
			</TabItem>

			<!-- Rules Tab -->
			<TabItem Header="📋 Rules" FontSize="14">
				<Border Style="{StaticResource Card}">
					<Grid>
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="*"/>
							<RowDefinition Height="Auto"/>
						</Grid.RowDefinitions>

						<TextBlock Grid.Row="0" Text="📋 Renaming Rules" FontSize="18"
                                 FontWeight="Bold" Margin="0,0,0,20" Foreground="#333"/>

						<DataGrid x:Name="RulesDataGrid" Grid.Row="1" AutoGenerateColumns="False"
                                CanUserAddRows="False" GridLinesVisibility="None"
                                HeadersVisibility="Column" Background="White">
							<DataGrid.Columns>
								<DataGridTextColumn Header="Rule Name" Binding="{Binding Name}" Width="200"/>
								<DataGridTextColumn Header="Type" Binding="{Binding Type}" Width="120"/>
								<DataGridCheckBoxColumn Header="Active" Binding="{Binding IsActive}" Width="80"/>
								<DataGridTextColumn Header="Pattern" Binding="{Binding Pattern}" Width="*"/>
							</DataGrid.Columns>
						</DataGrid>

						<StackPanel Grid.Row="2" Orientation="Horizontal" Margin="0,20,0,0">
							<Button Content="➕ Add Rule" Style="{StaticResource ModernButton}"
                                  Click="AddRuleBtn_Click" Margin="0,0,10,0"/>
							<Button Content="✏️ Edit" Background="#FF9800"
                                  Style="{StaticResource ModernButton}" Margin="0,0,10,0"/>
							<Button Content="🗑️ Delete" Background="#f44336"
                                  Style="{StaticResource ModernButton}"/>
						</StackPanel>
					</Grid>
				</Border>
			</TabItem>

			<!-- Activity Log Tab -->
			<TabItem Header="📜 Activity Log" FontSize="14">
				<Border Style="{StaticResource Card}">
					<Grid>
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="*"/>
							<RowDefinition Height="Auto"/>
						</Grid.RowDefinitions>

						<StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,15">
							<TextBlock Text="📜 Recent Activity" FontSize="18" FontWeight="Bold"
                                     Foreground="#333" VerticalAlignment="Center"/>
							<Button Content="🔄 Refresh" Style="{StaticResource ModernButton}"
                                  Background="#607D8B" Margin="20,0,0,0" Click="RefreshLogsBtn_Click"/>
						</StackPanel>

						<ListView x:Name="ActivityListView" Grid.Row="1" Background="#FAFAFA">
							<ListView.ItemTemplate>
								<DataTemplate>
									<Border Background="White" CornerRadius="5" Margin="0,2" Padding="10">
										<Grid>
											<Grid.ColumnDefinitions>
												<ColumnDefinition Width="Auto"/>
												<ColumnDefinition Width="*"/>
												<ColumnDefinition Width="Auto"/>
											</Grid.ColumnDefinitions>

											<TextBlock Grid.Column="0" Text="{Binding Icon}" FontSize="16"
                                                     Margin="0,0,10,0" VerticalAlignment="Center"/>
											<StackPanel Grid.Column="1">
												<TextBlock Text="{Binding Message}" FontWeight="Medium"/>
												<TextBlock Text="{Binding Details}" FontSize="12"
                                                         Foreground="#666" Margin="0,2,0,0"/>
											</StackPanel>
											<TextBlock Grid.Column="2" Text="{Binding Time}" FontSize="11"
                                                     Foreground="#999" VerticalAlignment="Top"/>
										</Grid>
									</Border>
								</DataTemplate>
							</ListView.ItemTemplate>
						</ListView>
					</Grid>
				</Border>
			</TabItem>
		</TabControl>

		<!-- Status Bar -->
		<Border Grid.Row="2" Background="#EEEEEE" Padding="10,5">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="Auto"/>
				</Grid.ColumnDefinitions>

				<TextBlock x:Name="StatusBarText" Text="Ready to monitor folders"
                         FontSize="12" VerticalAlignment="Center"/>
				<TextBlock Grid.Column="1" Text="OCRANGISE v1.0" FontSize="11"
                         Foreground="#666" VerticalAlignment="Center"/>
			</Grid>
		</Border>
	</Grid>
</Window>
